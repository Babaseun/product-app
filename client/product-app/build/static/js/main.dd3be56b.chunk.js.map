{"version":3,"sources":["context/CartContext.tsx","components/Nav/Nav.tsx","context/ProductListContext.tsx","components/Product/Product.tsx","components/ProductList/ProductList.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["CartContext","createContext","CartProvider","children","useState","cart","setCart","Provider","value","Nav","useContext","className","to","length","ProductListContext","ProductProvider","products","setProducts","useEffect","a","axios","get","response","data","rows","Product","name","description","varieties","id","quantity","setQuantity","image","forEach","variety","images","map","i","color","price","toString","src","alt","onClick","prev","order","Map","set","addToCart","ProductList","product","product_name","product_description","JSON","parse","product_varieties","App","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dd3be56b.chunk.js","sourcesContent":["import { createContext, ReactNode, useState } from \"react\";\r\n\r\nexport const CartContext = createContext<any[]>([]);\r\n\r\nexport const CartProvider = ({ children }: { children: ReactNode }) => {\r\n  const [cart, setCart] = useState([]);\r\n\r\n  return (\r\n    <CartContext.Provider value={[cart, setCart]}>\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CartContext } from \"../../context/CartContext\";\r\nimport \"./Nav.css\";\r\nconst Nav = () => {\r\n  const [cart, setCart] = useContext(CartContext);\r\n  return (\r\n    <div className=\"nav-container\">\r\n      <div className=\"brand\">Avios</div>\r\n      <div>\r\n        <ul className=\"navbar-right\">\r\n          <li>\r\n            <Link to=\"#\">\r\n              <i className=\"fas fa-shopping-cart\"></i> Cart{\" \"}\r\n            </Link>\r\n          </li>\r\n          <li>\r\n            <div className=\"badge\">{cart.length}</div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","import axios from \"axios\";\r\nimport { createContext, ReactNode, useEffect, useState } from \"react\";\r\n\r\nexport const ProductListContext = createContext<any[]>([]);\r\n\r\nexport const ProductProvider = ({ children }: { children: ReactNode }) => {\r\n  const [products, setProducts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    (async function () {\r\n      const response = await axios.get(\"api/products\");\r\n      setProducts(response.data.rows);\r\n    })();\r\n  }, []);\r\n  return (\r\n    <ProductListContext.Provider value={[products, setProducts]}>\r\n      {children}\r\n    </ProductListContext.Provider>\r\n  );\r\n};\r\n","import {  IProductVarieties } from \"../../contracts\";\r\nimport \"./Product.css\";\r\nimport { useContext, useState } from \"react\";\r\nimport { CartContext } from \"../../context/CartContext\";\r\ninterface IProduct {\r\n  name: string;\r\n  description: string;\r\n  id: number;\r\n  varieties: IProductVarieties[];\r\n}\r\nconst Product = ({ name, description, id, varieties }: IProduct) => {\r\n  const [cart, setCart] = useContext(CartContext);\r\n  const [quantity, setQuantity] = useState(0);\r\n\r\n  const addToCart = (id: number) => {\r\n    const order = new Map();\r\n    order.set(\"productName\", name);\r\n    varieties.forEach((variety) => {\r\n      order.set(\"price\", variety.price);\r\n      order.set(\"color\", variety.color);\r\n      order.set(\"image\", variety.images[0]);\r\n    });\r\n    setCart((prev: any) => [...prev, order]);\r\n    \r\n  };\r\n\r\n  let image = \"\";\r\n  varieties.forEach((variety) => {\r\n    image += variety.images[0];\r\n  });\r\n\r\n  return (\r\n    <div className=\"product-container\">\r\n      <div className=\"product-details\">\r\n        <p>\r\n          <b>Product Name: </b>\r\n          {name}\r\n        </p>\r\n\r\n        <p>\r\n          <b>Description: </b>\r\n          {description}\r\n        </p>\r\n        {varieties.map((variety,i) => (\r\n          <div key={i.toString()}>\r\n            <p>\r\n              <b>Color: </b>\r\n              {variety.color}\r\n            </p>\r\n            <p>\r\n              <b>Price: $</b>\r\n              {variety.price}\r\n            </p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div>\r\n        <img src={image} alt=\"\" />\r\n      </div>\r\n      <div>\r\n        <div className=\"product-control\">\r\n          <span\r\n            className=\"qt-minus btn btn-secondary\"\r\n            onClick={() => setQuantity((prev) => prev - 1)}\r\n          >\r\n            -\r\n          </span>\r\n          <span className=\"qt\">{quantity}</span>\r\n          <span\r\n            className=\"qt-plus btn btn-secondary\"\r\n            onClick={() => setQuantity((prev) => prev + 1)}\r\n          >\r\n            +\r\n          </span>\r\n        </div>\r\n        <button onClick={() => addToCart(id)} className=\"btn btn-success mt-4\">\r\n          Add to Cart\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","import { useContext } from \"react\";\r\nimport { ProductListContext } from \"../../context/ProductListContext\";\r\nimport { IProductAttributes } from \"../../contracts\";\r\nimport Product from \"../Product/Product\";\r\n\r\nimport \"./ProductList.css\";\r\n\r\nfunction ProductList() {\r\n  const [products] = useContext(ProductListContext);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {products.map((product: IProductAttributes) => (\r\n        <div key={product.id}>\r\n          <Product\r\n            name={product.product_name}\r\n            description={product.product_description}\r\n            id={product.id}\r\n            varieties={JSON.parse(product.product_varieties)}\r\n            key={product.id}\r\n          />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductList;\r\n","import \"./App.css\";\nimport Nav from \"./components/Nav/Nav\";\nimport ProductList from \"./components/ProductList/ProductList\";\nimport { ProductProvider } from \"./context/ProductListContext\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport { CartProvider } from \"./context/CartContext\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <CartProvider>\n          <Nav />\n\n          <Route exact path=\"/\">\n            <ProductProvider>\n              <ProductList />\n            </ProductProvider>\n          </Route>\n        </CartProvider>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}